# 第5章 关系与函数



5.1关系和关系的性质



设 R 是集合 A 上的关系。



1\. 自反性（Reflexive）



定义：

\\forall x\\in A,\\ (x,x)\\in R



每个元素都有自环

缺一个就不自反



2\. 反自反性（Irreflexive）



定义：

\\forall x\\in A,\\ (x,x)\\notin R



 一个自环都不能有

自反 \& 反自反 不能同时成立



3\. 对称性（Symmetric）



定义：

\\forall x,y\\in A,\\ (x,y)\\in R \\Rightarrow (y,x)\\in R



有来有回

自环天然满足对称性



4\. 反对称性（Antisymmetric）



定义：

\\forall x,y\\in A,\\ ((x,y)\\in R \\land (y,x)\\in R)\\Rightarrow x=y



重点理解：

禁止不同元素互相来回

自环 (x,x) 不违规



5\. 传递性（Transitive）



定义：

\\forall x,y,z\\in A,\\ (x,y)\\in R \\land (y,z)\\in R \\Rightarrow (x,z)\\in R



“顺着走能直接到”



6\. 常见组合关系（考试高频）



（1）等价关系



满足：自反、对称、传递



（2）偏序关系



满足：

自反、反对称、传递



例：≤，整除关系



快速判断口诀（超重要）

自反：看有没有所有 (x,x)

反自反：看有没有任何 (x,x)

对称：看有没有“只去不回”

反对称：看有没有“不同元素互相来回”

传递：看能不能“走两步却没第三步”





易错点总结：

对称 ≠ 反对称”

“反对称 ≠ 不对称”

自环 不破坏反对称

有 1↔2 且 1≠2 ⇒ 一定不反对称



#### **5.2 关系的运算**



关系是二元组构成的集合，所以对集合的运算可以应用在关系上。



设：

A, B, C 是集合

R 是 A 到 B 的二元关系

S 是 B 到 C 的二元关系



也就是说：

R ⊆ A × B

S ⊆ B × C



关系的本质一句话：

关系 = 有序对 (x, y) 组成的集合



关系的并、交、差：



并：

R ∪ S = 所有同时属于 R 或属于 S 的有序对

前提：

R 和 S 必须定义在同一个集合上



表示：

MR∪S = MR 或 MS

（对应位置只要有 1，就是 1）



交：

R ∩ S = 同时属于 R 且属于 S 的有序对



表示：

MR∩S = MR 且 MS

（对应位置两个都是 1，才是 1）



差：



R - S = 属于 R 但不属于 S 的有序对



表示：

MR-S = MR 且 非 MS



关系的补：



前提：

R 是定义在 A × A 上的关系



定义：

R 的补 = A × A 中所有不属于 R 的有序对



表示：

MR 的补 = MR 取反

（1 变 0，0 变 1）



关系的逆



定义：



R 的逆 = 把 R 中所有 (x, y) 变成 (y, x)



矩阵表示（非常重要）



R 的逆关系的矩阵 = R 的矩阵的转置



一句话记忆：

关系取逆 = 矩阵转置



关系的复合（Composition）**【重点】**



定义（必背）

设：

R 是 A 到 B 的关系

S 是 B 到 C 的关系



R 复合 S 包含这样的有序对 (x, z)：

存在某个 y，

使得 (x, y) 属于 R，

并且 (y, z) 属于 S



**图像理解：**



可以这样想：

x --R--> y --S--> z

那么就有：

x --(R 复合 S)--> z



一句话：

能从 x 走一步 R，

再走一步 S，

就算 x 和 z 有关系





矩阵表示**（考试重点）**



R 复合 S 的矩阵 =

MR 和 MS 做“布尔矩阵乘法”



注意：不是普通的数值乘法！



布尔矩阵乘法怎么做：



结果矩阵中：

第 i 行第 j 列是 1 的条件是：



存在某个 k，

使得：

MR 第 i 行第 k 列是 1，

并且

MS 第 k 行第 j 列是 1



口语版理解：

从 i 出发，

能不能通过中间某个点 k，

走两步到 j



关系的幂（Power）



定义：

R 的 n 次幂 = R 连续复合 n 次



R 的 1 次幂 = R

R 的 2 次幂 = R 复合 R

R 的 k 次幂 = 走 k 步能到达的关系



矩阵表示：

MR 的 n 次幂 = MR 做 n 次布尔矩阵乘法



重要性质（会判断就行）



1）逆与复合的关系：

(R 复合 S) 的逆 = S 的逆 复合 R 的逆



2）复合满足结合律：

(R 复合 S) 复合 T = R 复合 (S 复合 T)



注意：

一般不满足交换律





