# 第5章 关系与函数！！！！



5.1关系和关系的性质



设 R 是集合 A 上的关系。



1\. 自反性（Reflexive）



定义：

\\forall x\\in A,\\ (x,x)\\in R



每个元素都有自环

缺一个就不自反



2\. 反自反性（Irreflexive）



定义：

\\forall x\\in A,\\ (x,x)\\notin R



 一个自环都不能有

自反 \& 反自反 不能同时成立



3\. 对称性（Symmetric）



定义：

\\forall x,y\\in A,\\ (x,y)\\in R \\Rightarrow (y,x)\\in R



有来有回

自环天然满足对称性



4\. 反对称性（Antisymmetric）



定义：

\\forall x,y\\in A,\\ ((x,y)\\in R \\land (y,x)\\in R)\\Rightarrow x=y



重点理解：

禁止不同元素互相来回

自环 (x,x) 不违规



5\. 传递性（Transitive）



定义：

\\forall x,y,z\\in A,\\ (x,y)\\in R \\land (y,z)\\in R \\Rightarrow (x,z)\\in R



“顺着走能直接到”



6\. 常见组合关系（考试高频）



（1）等价关系



满足：自反、对称、传递



（2）偏序关系



满足：

自反、反对称、传递



例：≤，整除关系



快速判断口诀（超重要）

自反：看有没有所有 (x,x)

反自反：看有没有任何 (x,x)

对称：看有没有“只去不回”

反对称：看有没有“不同元素互相来回”

传递：看能不能“走两步却没第三步”





易错点总结：

对称 ≠ 反对称”

“反对称 ≠ 不对称”

自环 不破坏反对称

有 1↔2 且 1≠2 ⇒ 一定不反对称



#### **5.2 关系的运算**



关系是二元组构成的集合，所以对集合的运算可以应用在关系上。



设：

A, B, C 是集合

R 是 A 到 B 的二元关系

S 是 B 到 C 的二元关系



也就是说：

R ⊆ A × B

S ⊆ B × C



关系的本质一句话：

关系 = 有序对 (x, y) 组成的集合



关系的并、交、差：



并：

R ∪ S = 所有同时属于 R 或属于 S 的有序对

前提：

R 和 S 必须定义在同一个集合上



表示：

MR∪S = MR 或 MS

（对应位置只要有 1，就是 1）



交：

R ∩ S = 同时属于 R 且属于 S 的有序对



表示：

MR∩S = MR 且 MS

（对应位置两个都是 1，才是 1）



差：



R - S = 属于 R 但不属于 S 的有序对



表示：

MR-S = MR 且 非 MS



关系的补：



前提：

R 是定义在 A × A 上的关系



定义：

R 的补 = A × A 中所有不属于 R 的有序对



表示：

MR 的补 = MR 取反

（1 变 0，0 变 1）



关系的逆



定义：



R 的逆 = 把 R 中所有 (x, y) 变成 (y, x)



矩阵表示（非常重要）



R 的逆关系的矩阵 = R 的矩阵的转置



一句话记忆：

关系取逆 = 矩阵转置



关系的复合（Composition）**【重点】**



定义（必背）

设：

R 是 A 到 B 的关系

S 是 B 到 C 的关系



R 复合 S 包含这样的有序对 (x, z)：

存在某个 y，

使得 (x, y) 属于 R，

并且 (y, z) 属于 S



**图像理解：**



可以这样想：

x --R--> y --S--> z

那么就有：

x --(R 复合 S)--> z



一句话：

能从 x 走一步 R，

再走一步 S，

就算 x 和 z 有关系





矩阵表示\*\*（考试重点）\*\*



R 复合 S 的矩阵 =

MR 和 MS 做“布尔矩阵乘法”



注意：不是普通的数值乘法！



布尔矩阵乘法怎么做：



结果矩阵中：

第 i 行第 j 列是 1 的条件是：



存在某个 k，

使得：

MR 第 i 行第 k 列是 1，

并且

MS 第 k 行第 j 列是 1



口语版理解：

从 i 出发，

能不能通过中间某个点 k，

走两步到 j



关系的幂（Power）



定义：

R 的 n 次幂 = R 连续复合 n 次



R 的 1 次幂 = R

R 的 2 次幂 = R 复合 R

R 的 k 次幂 = 走 k 步能到达的关系



矩阵表示：

MR 的 n 次幂 = MR 做 n 次布尔矩阵乘法



重要性质（会判断就行）



1）逆与复合的关系：

(R 复合 S) 的逆 = S 的逆 复合 R 的逆



2）复合满足结合律：

(R 复合 S) 复合 T = R 复合 (S 复合 T)



注意：

一般不满足交换律



5.3 等价关系与序关系



5.3.1 等价关系



定义：



设 A 为非空集合，R ⊆ A × A。

若 R 同时满足以下三个性质：

1）自反性

∀x ∈ A，(x, x) ∈ R



2）对称性

∀x, y ∈ A，若 (x, y) ∈ R，则 (y, x) ∈ R



3）传递性

∀x, y, z ∈ A，

若 (x, y) ∈ R 且 (y, z) ∈ R，则 (x, z) ∈ R

则称 R 为 A 上的 等价关系。



等价类



对任意 x ∈ A，定义：

\[x] = { y ∈ A | (x, y) ∈ R }

称 \[x] 为 x 的等价类。



等价关系的核心结论（必会）



等价关系 ⇔ 集合的一个划分：

每一个等价关系都唯一确定一个划分

每一个划分都唯一导出一个等价关系



记作：

A / R = { \[x] | x ∈ A }



常见例子：

x ≡ y (mod n)

图形“全等”

学生成绩属于同一等级





5.3.2 序关系

偏序关系（Partial Order）



设 R ⊆ A × A。

若 R 满足：



1）自反性

2）反对称性

若 (x, y) ∈ R 且 (y, x) ∈ R，则 x = y

3）传递性



则称 R 为 偏序关系，(A, R) 称为偏序集。



等价关系 vs 偏序关系



等价关系：

自反；

对称；

传递；

用来“分类”



偏序关系：

自反；

反对称；

传递；

用来“排序”



全序关系：



若偏序关系 R 还满足：

∀x, y ∈ A，xRy 或 yRx

则称 R 为 全序关系。



例：

≤ 在整数集上

字典序



哈斯图：



用图形表示偏序关系

省略自反关系

省略由传递性可推出的边





5.4 函数（Function）



5.4.1 函数的概念



设 A、B 为集合。

若关系 f ⊆ A × B 满足：

∀x ∈ A，存在唯一 y ∈ B，使得 (x, y) ∈ f

则称 f 为 从 A 到 B 的函数，记作：

f : A → B



函数的本质：



函数 = 特殊的关系

每个 x 只能对应一个 y





函数与一般关系的区别：



一般关系：

一个 x 可以对应多个 y

不要求覆盖整个 A



函数：

一个 x 只能对应一个 y

必须对每个 x 定义



函数的三要素：



1）定义域（Domain）

2）陪域（Codomain）

3）对应规则



单射、满射、双射：



单射（Injective）

若 f(x₁) = f(x₂)，则 x₁ = x₂

不同的输入 → 不同的输出



满射（Surjective）

∀y ∈ B，∃x ∈ A，使得 f(x) = y

值域 = 陪域



双射（Bijective）

既是单射，又是满射。

双射函数一定存在逆函数。



逆函数与复合函数：



逆函数：

若 f 为双射，则存在 f⁻¹，使得：

f⁻¹(f(x)) = x



复合函数：

设 f : A → B，g : B → C

定义：

(g ∘ f)(x) = g(f(x))



