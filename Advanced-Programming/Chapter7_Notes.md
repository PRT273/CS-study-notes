第七章：指针



7.1指针



指针是一种数据类型，也是c语言的一个重要特色。指针是存放数据的内存单元地址。

字符型变量占用1字节，短整型变量占用2字节，单精度实型变量占用4字节，双精度实型变量占用连续8字节。

指针示例：（p222）



7.1.2 指针变量



指针变量和其他变量一样，先定义后使用。

格式：数据类型符 \*指针变量名\[初始地址值],...;

数据类型符只能是指针变量所指向的变量或数组的数据类型，而不是存放的。

初始地址值通常是"\&变量名""\&数组元素"或"一维数组名"。

指针变量的初始化，可以是已经初始化的同类型的指针变量，也可以是NULL。



指针变量的一般使用格式：指针变量=地址型表达式。

直接使用格式：指针变量名。

通过指针变量引用所指向的变量格式：\*指针变量名。



指针的基本运算：

取地址运算符：\&

功能是取变量的地址。



指针运算符：\*

功能是取指针变量所指向地址中的内容。



7\.1.2 指针和数组



数组名就是首元素地址

int a\[5] = {1,2,3,4,5};

等价于：

a       == \&a\[0]

\*(a)     == a\[0]

\*(a + 1) == a\[1]



用指针访问数组：

int \*p = a;



printf("%d\\n", \*p);      // a\[0]

printf("%d\\n", \*(p+1));  // a\[1]



结论：

a\[i] == \*(a + i)

p\[i] == \*(p + i)



7.2 二维数组

二维数组的概念：

二维数组可以理解为：

“元素是一维数组的一维数组”

定义形式：int a\[3]\[4];

含义：

a 有 3 行

每行有 4 个元素

总元素数：3 × 4 = 12



**二维数组在内存中是连续存放的！**

**行优先顺序存储！**



二维数组元素的访问：

a\[i]\[j] 基本等价于：\*(\*(a + i) + j)。



解释：

a：指向第 0 行

a + i：指向第 i 行

\*(a + i)：第 i 行首元素地址

\*(\*(a + i) + j)：第 i 行第 j 个元素



二维数组的初始化：

int a\[2]\[3] = {

&nbsp;   {1,2,3},

&nbsp;   {4,5,6}

};



列数不能省略，行数可以省略。



二维数组作为函数参考：void func(int (\*a)\[3])















